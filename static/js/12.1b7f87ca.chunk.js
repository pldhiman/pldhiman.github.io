(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{899:function(e,t,a){"use strict";a.r(t);var n=a(28),o=a(13),r=a(14),s=a(16),i=a(15),l=a(17),c=a(0),p=a.n(c),g=a(324),m=a(60),d=a(9);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var w=new g.a,h=[{type:"pin",name:"otp"},{type:"text",name:"name"},{type:"email",name:"email"},{type:"password",name:"password"},{type:"password",name:"old_password"},{type:"password",name:"new_password"}],f=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={currentPage:"login",screenToShow:1,referer:"/",isLoading:!1,passwordReset:!1},a.initialProps=function(){var e=a.props.location,t=e.pathname,n=e.search,o=m.parse(n),r=o.page,s=o.referer,i=o.email,l=o.user;console.log(t),l&&a.setState({email:String(l)}),"forgot"===r?a.setState({currentPage:"forgot password",status:""}):"/login"===t?a.setState({currentPage:"login",status:""}):a.setState({currentPage:"register",status:""}),i&&a.setState({referer:s,screenToShow:1,email:i,passwordReset:!0}),void 0===s?a.setState({referer:"/"}):s.includes("")&&a.setState({referer:s})},a.onBackButtonEvent=function(){a.initialProps()},a.extendedParams=function(e){var t=a.state,n=t.screenToShow,o=t.passwordReset,r=t.otp,s=t.password,i=t.old_password,l=t.new_password;return"login"===e?{login:1}:"forgot password"===e&&2===n&&o?{screenToShow:n,otp:r,newPass:l,oldPass:i}:"forgot password"===e&&1===n?{screenToShow:n}:"forgot password"===e&&2===n?{screenToShow:n,otp:Number(r),newPass:s}:{register:1}},a.onSubmit=function(e){e&&e.preventDefault();var t=a.state,n=t.name,o=t.email,r=t.password,s=t.currentPage,i=t.screenToShow,l=t.referer,c=t.passwordReset;a.signUpLoginForgetChngePasswordFuc(n,o,r,s,i,l,c)},a.signUpLoginForgetChngePasswordFuc=function(e,t,o,r,s,i,l,c){var p="forgot password"===r?"forgot-password":"login";a.setState({isLoading:!0}),Object(d.a)(p,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(a,!0).forEach(function(t){Object(n.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({name:e,email:t,password:o},a.extendedParams(r))).then(function(e){"forgot password"===r&&e.status&&2===s&&l?window.location=i:"forgot password"===r&&e.status&&2===s?window.location="./login?referer=".concat(i):"forgot password"===r&&e.status&&1===s?a.setState({screenToShow:2,isLoading:!1,currentPage:"forgot password"}):e.status?(a.setState({isLoading:!1}),a.setUser(e,i)):a.setState({isLoading:!1,status:e.message})})},a.setUser=function(e,t){var n=btoa(JSON.stringify(e));a.setCookies("prep",n,"/"),"localhost"!==window.location.hostname&&"pldhiman.github.io"!==window.location.hostname&&"prepar.herokuapp.com"!==window.location.hostname||a.setCookies("prep",n,"/",null),window.location=t},a.setCookies=function(e,t,a,n){w.set(e,t,{path:a,expires:new Date(Date.now()+2592e6),domain:null===n?null:".prepladder.com"})},a.eventListner=function(e){var t=e.target,o=t.name,r=t.value,s=t.checked;a.setState({status:""}),"checkbox"===o?a.setState(Object(n.a)({},o,s)):"otp"===o?r.length<=6&&a.setState(Object(n.a)({},o,r)):a.setState(Object(n.a)({},o,r))},a.pageParagraph=function(e,t){return"login"!==e?p.a.createElement("h3",{class:"login-page__right-sub"},"Already have an account? ",p.a.createElement("a",{href:"./login?referer="+t,class:"color-prep-blue text-deco-none login-page__right-sub--link"},"Login")):p.a.createElement("h3",{class:"login-page__right-sub"},"Don't have an account ? ",p.a.createElement("a",{href:"./register?referer="+t,class:"color-prep-blue text-deco-none login-page__right-sub--link"},"Create your account"),", it takes less than a minute")},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.initialProps()}},{key:"componentDidMount",value:function(){window.onpopstate=this.onBackButtonEvent,m.parse(this.props.location.search).email&&(this.onSubmit(),this.setState({screenToShow:2}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.currentPage,n=t.screenToShow,o=t.status,r=t.referer,s=t.isLoading,i=t.passwordReset;return p.a.createElement("div",{className:"login-page__bg"},p.a.createElement("div",{className:"login-page__container"},p.a.createElement("div",{class:"login-page"},p.a.createElement("img",{className:"login-page__bglogo login-page__bglogo-hide",src:"https://storage.googleapis.com/prepladder-images/medical/GuxUNbjRbhUpyZE2f8Gq1560579508.png",alt:"logo"}),p.a.createElement("div",{class:"login-page__left"},p.a.createElement("img",{className:"login-page__bglogo",src:"https://storage.googleapis.com/prepladder-images/medical/GuxUNbjRbhUpyZE2f8Gq1560579508.png",alt:"logo"}),p.a.createElement("div",{class:"login-page__left-align"},p.a.createElement("h1",{class:"login-page__heading"},"Welcome to",p.a.createElement("span",null,"PrepLadder")),p.a.createElement("div",{class:"login-page__subheading"},"India\u2019s biggest platform for higher medical education"))),p.a.createElement("div",{class:"login-page__right"},p.a.createElement("div",{class:"login-page__right-align"},p.a.createElement("h2",{class:"login-page__right-heading"},a),this.pageParagraph(a,r),p.a.createElement("form",{class:"line-form",onSubmit:this.onSubmit},h.map(function(t,o){return("forgot password"===a&&2===n&&i?"name"!==t.name&&"email"!==t.name&&"password"!==t.name:"forgot password"===a&&2===n?"name"!==t.name&&"email"!==t.name&&"old_password"!==t.name&&"new_password"!==t.name:"forgot password"===a&&1===n?"name"!==t.name&&"password"!==t.name&&"otp"!==t.name&&"old_password"!==t.name&&"new_password"!==t.name:"login"===a?"name"!==t.name&&"otp"!==t.name&&"old_password"!==t.name&&"new_password"!==t.name:"otp"!==t.name&&"old_password"!==t.name&&"new_password"!==t.name)&&p.a.createElement("div",{class:"line-form__field",key:o},p.a.createElement("label",{for:t.name+"_"+o,class:"line-form__label"},t.name),p.a.createElement("input",{id:t.name+"_"+o,type:t.type,required:!0,class:"line-form__input",name:t.name,value:"email"===t.type?e.state.email:null,maxlength:"otp"===t.name?6:100,onChange:e.eventListner}))}),"register"===a&&p.a.createElement("div",{class:"line-form__field",style:{flexFlow:"row"}},p.a.createElement("input",{id:"line-checkbox",type:"checkbox",class:"line-form__checkbox",name:"checkbox",required:!0,onChange:this.eventListner}),p.a.createElement("label",{for:"line-checkbox",class:"line-form__label1"},"I accept ",p.a.createElement("a",{style:{textDecoration:"none"},href:"./termsandconditions.html"},"terms and conditions"),"  & ",p.a.createElement("a",{style:{textDecoration:"none"},href:"./privacypolicy.html"}," privacy policy")," ")),o&&p.a.createElement("div",{style:{paddingTop:"1rem"}},o),s&&p.a.createElement("div",{className:"text-align-center",style:{paddingTop:"1rem"}},"Wait.."),p.a.createElement("div",{class:"line-form__field2"},p.a.createElement("input",{type:"submit",value:a,class:"btn bg-red btn-txt-color-white boxshadow line-form__btn"}))),p.a.createElement("div",{class:"login-page__social"}))))))}}]),t}(c.Component);t.default=f}}]);